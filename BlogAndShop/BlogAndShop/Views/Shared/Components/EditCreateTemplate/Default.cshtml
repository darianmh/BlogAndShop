
@using BlogAndShop.Data.ViewModel.Utilities
@model List<BlogAndShop.Data.ViewModel.Utilities.EditCreateTemplateViewModel>
<div>
</div>
@foreach (var item in Model)
{
	string requiredText = "";
	var check = false;
	<div class="form-group mb-3">
		@if (item.ObjectType == EditCreateTemplateType.Hidden)
		{
			<input class='form-control text-box single-line' data-val='true' id='@item.Name' name='@item.Name' type='hidden' value='@item.Value'>
		}
		else
		{
			<label for='@item.Name'>@item.DisplayName</label>
			<p>@Html.ValidationMessage(item.Name, new { @class = "text text-danger" })</p>
			if (item.IsRequired)
			{
				requiredText = $" data-val-required='{item.DisplayName} مورد نیاز است.' ";
			}
			if (item.ObjectType == EditCreateTemplateType.DbList || item.ObjectType == EditCreateTemplateType.Enum)
			{
				if (item.ListForOptionList != null)
				{
					<select id='@item.Name' name='@item.Name' @requiredText class="form-control bs-select" data-live-search="true">
						@foreach (var option in item.ListForOptionList)
						{
							var isSelected = option.Value == item.Value?.ToString();
							if (isSelected)
							{
								<option value="@option.Value" selected="selected">@option.Text</option>
							}
							else
							{
								<option value="@option.Value">@option.Text</option>
							}
						}
					</select>
				}
				check = true;
			}

			else if (item.ObjectType == EditCreateTemplateType.HtmlEditor)
			{
				<textarea id='@item.Name' name='@item.Name'
						  class="form-control summernote-editor"
						  data-placeholder="Type yout text here..."
						  data-min-height="300"
						  data-max-height="1000"
						  data-focus="false"
						  data-lang="en-US"
						  data-toolbar='[
												    ["style", ["style"]],
												    ["font", ["bold", "italic", "underline", "clear"]],
												    ["fontname", ["fontname"]],
												    ["color", ["color"]],
												    ["para", ["ul", "ol", "paragraph"]],
												    ["height", ["height"]],
												    ["table", ["table"]],
												    ["insert", ["link", "picture", "hr"]],
												    ["view", ["fullscreen", "codeview"]],
												    ["help", ["help"]]
												  ]'>@item.Value</textarea>
				check = true;
			}
			else if (item.ObjectType == EditCreateTemplateType.TextArea)
			{
				<textarea id='@item.Name' name='@item.Name' class="form-control" rows="3">@item.Value</textarea>
				check = true;
			}
			else if (item.ObjectType == EditCreateTemplateType.File)
			{
				@await Html.PartialAsync("_FileUpload", item)
				check = true;
			}
			//for number or decimal only
			var stepsCounter = "";
			if (item.ObjectType == EditCreateTemplateType.Number)
			{
				stepsCounter = "1";
			}
			else if (item.ObjectType == EditCreateTemplateType.Decimal)
			{
				stepsCounter = "0.01";
			}
			else if (item.ObjectType == EditCreateTemplateType.Bool)
			{
				var checkedItem = (bool)item.Value == true ? "checked='checked'" : "";
				<label class="form-switch form-switch-pill form-switch-primary d-block">
					<input type="checkbox" value="true" name="@item.Name" id="@item.Name" @checkedItem>
					<i data-on="بله" data-off="خیر"></i>
				</label>
				check = true;
			}
			if (!check)
			{
				<input class='form-control text-box single-line' data-val='true' @requiredText @stepsCounter id='@item.Name' name='@item.Name' type='@item.TypeName' value='@item.Value'>
			}
		}
	</div>
}